<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <title>12 Various | Essential React</title>

    <link rel="icon" href="../img/zuehlke_logo.jpg">
    <link rel="stylesheet" href="../dist/reset.css">
    <link rel="stylesheet" href="../dist/reveal.css">
    <link rel="stylesheet" href="../css/theme/zuehlke.css">

    <!-- Theme used for syntax highlighted code -->
    <link rel="stylesheet" href="../plugin/highlight/monokai.css">
</head>
<body>
<div class="reveal">
    <div class="slides">
        <section class="deck-slide">
            <h1>Essential React <br/>
                12 Various</h1>
        </section>
        <section>
            <h2>browserslist</h2>
            <p>The browserslist configuration controls the outputted JavaScript so that the emitted code will be
                compatible with the browsers specified.</p>
            <p>Polyfills still need to be added manually!</p>
        </section>
        <section>
            <h2>ESLint configuration</h2>
            <p>Multiple configurations and plugins can be configured in the <span class="code">extends</span> field
                value.</p>
            <p>If multiple configurations or plugins specify contradicting values for the same rule, the latter will
                be applied.</p>
            <p>Rules can be overridden in the <span class="code">rules</span> field value.</p>
        </section>
        <section>
            <section>
                <h2>Refs</h2>
                <p>Or: How to break out of virtual dom</p>
            </section>
            <section>
                <p>Refs permit to obtain a reference to a real dom element</p>
            </section>
            <section>
                <h2>Focus</h2>
                <p><pre data-id="code"><code class="hljs tsx" data-trim><script type="text/template">
                    import { useRef, useEffect } from "react";
      
                    export default function MyComponent() {
                      const inputRef = useRef(null);
                      useEffect(() => {
                        inputRef.current.focus();
                      }, []);
      
                      return (
                        <input ref={inputRef} />
                      );
                    }
                  
                </script></code></pre></p>
                <p>Automatically set focus on page load</p>
                <div class="fragment tip">
                  There are alternatives such as using autofocus on the input field.
                </div>
            </section>
            <section>
                <h2>How to forward ref?</h2>
                <p><pre data-id="code"><code class="hljs tsx" data-trim><script type="text/template">
                    function CustomInput({ ref }) {
                      return <input ref={ref} />;
                    }
                </script></code></pre></p>
                <p><pre data-id="code"><code class="hljs tsx" data-trim><script type="text/template">
                    <CustomInput ref={ref} />
                </script></code></pre></p>
                <p class="fragment">
                  <span class="warn">Does not work!</span> &ndash; ref is a special prop (the other one is key)
                </p>
            </section>
            <section>
                <h2>forwardRef!</h2>
                <p><pre data-id="code"><code class="hljs tsx" data-trim><script type="text/template">
                    const CustomInput = forwardRef((props, ref) => {
                      return <input ref={ref} />;
                    });
                      
                    CustomInput.displayName = "CustomInput";
                </script></code></pre></p>
                <p><pre data-id="code"><code class="hljs tsx" data-trim><script type="text/template">
                    <CustomInput ref={ref} />
                </script></code></pre></p>
            </section>
        </section>
        <section>
            <section>
                <h2>Virtualization</h2>
            </section>
            <section>
                <ul>
                    <li>Technique to render only elements that are currently visible</li>
                    <li>Reduces workload of the browser</li>
                </ul>
            </section>
            <section>
                <h2>react-window</h2>
            </section>
            <section>
                <h2>Advice</h2>
                <p>Use virtualization as a "last resort", usually there are other places which are easier to fix.</p>
            </section>
        </section>
        <section>
            <section>
                <h2>State Management</h2>
            </section>
            <section>
                <h2>Redux / Zustand (flux-based)</h2>
            </section>
            <section>
                <h2>Recoil / Jotai (atom-based)</h2>
            </section>
        </section>
        <section>
            <section>
                <h2>Data Management</h2>
            </section>
            <section>
                <h2>Requirements</h2>
                <ul>
                    <li>Handle repetitive data loading states (pending, success, error)</li>
                    <li>Cache response</li>
                    <li>Invalidate response</li>
                    <li>Handle mutations</li>
                </ul>
            </section>
            <section>
                <h2>Libraries</h2>
                <ul>
                    <li>SWR</li>
                    <li>react-query</li>
                </ul>
            </section>
            <section>
            </script></code></pre></p>
            <p><pre data-id="code"><code class="hljs tsx" data-trim><script type="text/template">
                import useSWR from 'swr'

                const fetcher = (...args) => fetch(...args).then(res => res.json())
                
                const { data, error } = useSWR('/api/user', fetcher)

                if (error) return <div>failed to load</div>
                if (!data) return <div>loading...</div>
                return <div>hello {data.name}!</div>
            </script></code></pre></p>
            </section>
        </section>
    </div>
</div>

<script src="../dist/reveal.js"></script>
<script src="../plugin/notes/notes.js"></script>
<script src="../plugin/markdown/markdown.js"></script>
<script src="../plugin/highlight/highlight.js"></script>
<script>
    // More info about initialization & config:
    // - https://revealjs.com/initialization/
    // - https://revealjs.com/config/
    Reveal.initialize({
        hash: true,

        // Learn about plugins: https://revealjs.com/plugins/
        plugins: [RevealMarkdown, RevealHighlight, RevealNotes]
    });
</script>
</body>
</html>
