<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <title>05 First Component | Essential React</title>

    <link rel="icon" href="../img/zuehlke_logo.jpg">
    <link rel="stylesheet" href="../dist/reset.css">
    <link rel="stylesheet" href="../dist/reveal.css">
    <link rel="stylesheet" href="../css/theme/zuehlke.css">

    <!-- Theme used for syntax highlighted code -->
    <link rel="stylesheet" href="../plugin/highlight/monokai.css">
</head>
<body>
<div class="reveal">
    <div class="slides">
        <section class="deck-slide">
            <h1>Essential React <br/>
                05 First Component</h1>
        </section>
        <section>
            <section>
                <h2>Simple React Component</h2>
                <p>A dumb component having hard-coded state</p>
                <span class="code">Greeting.tsx</span>
                <pre>
                    <code class="hljs jsx" data-trim data-noescape>
                        const NAME = 'World';

                        function Greeting() {
                            return (
                                &lt;div&gt;Hello {NAME}&lt;/div&gt;
                            );
                        }

                        export default Greeting;
                    </code>
                </pre>
            </section>
            <section>
                <h3>Apply / Use component in a consumer</h3>
                <p>Multiline JSX should always be wrapped in braces. Single line doesn't.</p>
                <span class="code">App.tsx</span>
                <pre>
                    <code class="hljs javascript" data-trim data-noescape>
                        import 'Greeting' from './greeting';

                        function App() {
                            return &lt;Greeting/&gt;;
                        }

                        export default App;
                    </code>
                </pre>
            </section>
        </section>
        <section>
            <section>
                <h2>Testing / React-Testing-Library</h2>
                <p>Our components can be tested using the React Testing Library</p>
                <pre>
                    <code class="hljs javascript" data-trim data-noescape>
                        $ npm install --save-dev @testing-library/react
                    </code>
                </pre>
            </section>
            <section>
                <h2>Testing our dumb component</h2>
                <span class="code">Greeting.test.tsx</span>
                <pre>
                    <code class="hljs javascript" data-trim data-noescape>
                        import { render } from '@testing-library/react';
                        import Greeting from './Greeting';

                        describe('Greeting', () => {
                          it('should render "Hello World"', () => {
                            const { getByText } = render(&lt;Greeting/&gt;);
                            expect(getByText('Hello World')).toBeInTheDocument();
                          });
                        });
                    </code>
                </pre>
            </section>
            <section>
                <h2>TDD - Test Driven Development</h2>
                <p>It is a good practice to conduct TDD wherever possible</p>
                <p>Let us amend the component such that we can set the name through an input property</p>
            </section>
            <section>
                <h3>Add new test case</h3>
                <span class="code">Greeting.test.tsx</span>
                <pre>
                    <code class="hljs javascript" data-trim data-noescape>
                      it('should render correct name', () => {
                        const { getByText } = render(
                            &lt;Greeting name="React Master" /&gt;
                        );
                        expect(getByText("Hello React Master")).toBeInTheDocument();
                      });
                    </code>
                </pre>
            </section>
            <section>
                <h3>Implement / Make the test green</h3>
                <span class="code">Greeting.tsx</span>
                <pre>
                    <code class="hljs jsx" data-trim data-noescape>
                        type Props = {
                            name?: string;
                        };

                        function Greeting({name = 'World'}: Props) {
                            return &lt;div&gt;Hello {name}&lt;/div&gt;;
                        }

                        export default Greeting;
                    </code>
                </pre>
            </section>
            <section>
                <h3>Refactor</h3>
                <p>Refactor your code such that it is extensible and easy to understand</p>
                <pre>
                    <code class="hljs javascript" data-trim data-noescape>
                      it('should render correct name', () => {
                        const name = 'React Master';
                        const { getByText } = render(&lt;Greeting name={name} /&gt;);
                        expect(getByText(`Hello ${name}`)).toBeInTheDocument();
                      });
                    </code>
                </pre>
            </section>
            <section>
            <h2>Cheat Sheet</h2>
            <ul>
                <li><span class="code">getBy*</span> - verify that an element/node is present at this very moment. Throws an error fi element/node is not found.</li>
                <li><span class="code">queryBy*</span>  - similar to <span class="code">getBy*</span>, but will not throw an error if the element/node is absent.</li>
                <li><span class="code">findBy*</span>  - verify that an element will be present, e.g. upon completion of an asynchronous API-Call</li>
            </ul>
            <p><a target="_blank" href="https://testing-library.com/docs/queries/about/">Find more about queries here</a></p>
        </section>
        </section>
        <section>
            <h2>Virtual DOM</h2>
            <p>Replacing and rendering the whole real DOM is costly!</p>
            <p>Virtual DOM is a representation of the actual DOM</p>
            <p>Its purpose is to identify which parts of the real DOM need to be changed upon changes, by comparing the
                new virtual DOM result against the previous one.</p>
            <p>The delta then gets applied on the real DOM.<br/>E.g. only one element gets updated within a long list
                instead of the whole list.</p>
        </section>
        <section>
            <h2>List</h2>
            <p>To render a list, we apply the <span class="code">map</span> function on a list to produce HTML-Elements</p>
            <p>Each list item shall have a unique <span class="code">key</span></p>
            <pre>
                <code class="hljs javascript" data-trim data-noescape>
                    function List() {
                        const items = ['Apple', 'Orange', 'Mango'];
                        return (
                            &lt;ul&gt;
                                {items.map(item => &lt;li key={item}&gt;{item}&lt;/li&gt;)}
                            &lt;/ul&gt;
                        )
                    }

                    export default List;
                </code>
            </pre>
        </section>
        <section>
            <h2>Exercise</h2>
            <ol>
                <li>Create a (hard-coded) list of Pok√©mons</li>
                <li>The representation of the list item shall be rendered in a different dumb component than the list itself</li>
                <li>Stretch-Goal: Test your components with React-Testing-Library</li>
            </ol>
        </section>
    </div>
</div>

<script src="../dist/reveal.js"></script>
<script src="../plugin/notes/notes.js"></script>
<script src="../plugin/markdown/markdown.js"></script>
<script src="../plugin/highlight/highlight.js"></script>
<script>
    // More info about initialization & config:
    // - https://revealjs.com/initialization/
    // - https://revealjs.com/config/
    Reveal.initialize({
        hash: true,

        // Learn about plugins: https://revealjs.com/plugins/
        plugins: [RevealMarkdown, RevealHighlight, RevealNotes]
    });
</script>
</body>
</html>
